(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{86:function(e,t,n){},89:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(51),o=n(41),s=n(6),i=n(20),u=n(18),l="@@INIT_APP",p="@@INIT_APP_DONE",d="SAVE_PRELOAD",f="LOGIN",m="LOGIN_SUCCESS",b="NEED_LOGIN",h="RECEIVE_USER_INFO",v="PUT_MESSAGE",O="SHOW_MESSAGE",j="HIDE_MESSAGE",w="SHOW_MODAL",g="HIDE_MODAL",x="SHOW_LOADING",E="HIDE_LOADING",y="PUT_MODAL_MESSAGE";function k(e){return{type:f,fingerPrint:e}}function M(e,t){return{type:m,fingerPrint:t,token:e}}function N(e){return{type:b,force:e}}function P(e,t){return{type:O,msg:e,res:t}}function S(e){return{type:w,msg:e}}var T={init:!1,userInfo:{},token:"",fingerPrint:"",showToast:!1,showModalEl:!1,showLoading:!1,modalMsg:"",preload:{},showModalToast:!1,bannerConfigMap:{}};function _(e){return e.app.init}var I={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(s.a)(Object(s.a)({},e),{},{init:!0});case d:return Object(s.a)(Object(s.a)({},e),{},{preload:t.preload});case m:return Object(s.a)(Object(s.a)({},e),{},{fingerPrint:t.fingerPrint,token:t.token});case h:return Object(s.a)({},e);case O:return Object(s.a)(Object(s.a)({},e),{},{showToast:!0,toastMsg:t.msg});case j:return Object(s.a)(Object(s.a)({},e),{},{showToast:!1});case x:return Object(s.a)(Object(s.a)({},e),{},{showLoading:!0});case E:return Object(s.a)(Object(s.a)({},e),{},{showLoading:!1});case w:return Object(s.a)(Object(s.a)({},e),{},{modalMsg:t.msg,showModalEl:!0});case g:return Object(s.a)(Object(s.a)({},e),{},{showModalEl:!1});default:return e}}},L=n(22),A=n(4),C=n.n(A),R=n(2),D=n(55),H="https://newactivity.huazhu.com",U=n.n(D).a.create();U.interceptors.request.use((function(e){var t=e.url,n=e.data,r=e.headers,a=e.method,c=e.params,o=je.getState().app.token;n?n.sk=o:n={sk:o};var i="".concat(H,"/");if(t.includes("http")&&(i=""),/^\//.test(t)&&(i=H+"/v1/pointStore"),!r["Content-Type"])if(r["Content-Type"]="application/x-www-form-urlencoded","post"===a){var u=[];for(var l in n)u.push(l+"="+encodeURI(n[l]));n=u.join("&")}else c=c?Object(s.a)(Object(s.a)({},n),c):n;return Object(s.a)(Object(s.a)({},e),{},{data:n,params:c,headers:r,baseURL:i})})),U.interceptors.response.use((function(e){var t=e.status,n=e.data;if(200===t)return n}),(function(e){return console.log("\u5e95\u5c42\u51fa\u9519:",e),{code:700}}));var G=n(33),W=n(25),z=n.n(W);function B(){var e=z.a.get("fp");return e||(e=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}(),z.a.set("fp",e,{expires:3650})),e}var V;try{V=window.navigator}catch(Lt){V={}}var J=/huazhu/i.test(V.userAgent)&&!window.ETone,q=(/ios|iphone|ipad|ipod/i.test(V.userAgent),/android/i.test(V.userAgent),/MicroMessenger/i.test(V.userAgent)),F=new Promise((function(e,t){try{window.wx.miniProgram.getEnv((function(t){e(t.miniprogram)}))}catch(Lt){}}));"miniprogram"===window.__wxjs_environment||window.navigator.userAgent.toLowerCase().includes("miniprogram");function K(e,t){try{var n=window.wx;if(["/pages/search/search","/pages/my/my"].some((function(t){return e.url.includes(t)})))return n.miniProgram.switchTab(e);t?n.miniProgram.redirectTo(e):n.miniProgram.navigateTo(e)}catch(Lt){alert("navigateToMiniProgram Error :"+Lt)}}function Q(e,t){K({url:"/pages/webview/webview?src=".concat(encodeURIComponent(e))},t)}function X(e){var t=e.loginUrl,n=e.fingerPrint;if(t&&n)try{var r,a="",c="?to="+encodeURIComponent(window.location.href)+"&fp="+n;if(!q)return J?(r="/login",a="&has_video=true&APP_NeedLoginInfo=True"):r="/login",void(window.location.href=t+r+c+a);F.then((function(e){e?Q(t+(r="/miniLogin")+c+(a="&MiniNeedLogin=true"),!0):(r="/login",window.location.href=t+r+c+a)}))}catch(Lt){}else console.log("\u7f3a\u5c11\u767b\u9646\u53c2\u6570")}var Y=C.a.mark(se),Z=C.a.mark(ie),$=C.a.mark(ue),ee=C.a.mark(le),te=C.a.mark(pe),ne=C.a.mark(de),re=C.a.mark(fe),ae=C.a.mark(me),ce=C.a.mark(be),oe=C.a.mark(ve);function se(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(R.h)(l);case 3:return e.next=5,Object(R.c)(ie);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Y)}function ie(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.f)(_);case 2:if(e.sent){e.next=8;break}return e.next=6,Object(R.c)(ue);case 6:return e.next=8,Object(R.e)({type:p});case 8:case"end":return e.stop()}}),Z)}function ue(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)(N());case 2:return e.next=4,Object(R.h)(m);case 4:case"end":return e.stop()}}),$)}function le(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)([Object(R.d)(de),Object(R.d)(pe),Object(R.d)(fe),Object(R.d)(me)]);case 2:case"end":return e.stop()}}),ee)}function pe(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(R.h)(b);case 3:return e=n.sent,t=e.force,n.next=7,Object(R.c)(be,t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),te)}function de(){var e,t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(R.a)(f,L.b.sliding(1));case 2:e=r.sent;case 3:return r.next=6,Object(R.h)(e);case 6:return t=r.sent,n=t.fingerPrint,r.next=10,Object(R.c)(X,{fingerPrint:n,loginUrl:"https://newactivity.huazhu.com"});case 10:return r.next=12,Object(R.c)(he,5e3);case 12:r.next=3;break;case 14:case"end":return r.stop()}}),ne)}function fe(){var e,t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(R.a)(v,L.b.sliding(3));case 2:e=r.sent;case 3:return r.next=6,Object(R.h)(e);case 6:return t=r.sent,n=t.msg,r.next=10,Object(R.e)(P(n));case 10:return r.next=12,Object(R.c)(he,1500);case 12:return r.next=14,Object(R.e)({type:j});case 14:r.next=3;break;case 16:case"end":return r.stop()}}),re)}function me(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(R.a)(y,L.b.sliding(3));case 2:e=n.sent;case 3:return n.next=6,Object(R.h)(e);case 6:return t=n.sent,t.msg,n.next=10,Object(R.e)({type:"SHOW_MODAL_MESSAGE"});case 10:return n.next=12,Object(R.c)(he,1500);case 12:return n.next=14,Object(R.e)({type:"HIDE_MODAL_MESSAGE"});case 14:n.next=3;break;case 16:case"end":return n.stop()}}),ae)}function be(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=B(),!e){a.next=5;break}return a.next=4,Object(R.e)(k(n));case 4:return a.abrupt("return");case 5:if(c="sk",!(r=z.a.get(c)||"")){a.next=11;break}return a.next=9,Object(R.e)(M(r,n));case 9:a.next=16;break;case 11:if(!t){a.next=14;break}return a.next=14,Object(R.c)(t);case 14:return a.next=16,Object(R.e)(k(n));case 16:case"end":return a.stop()}var c}),ce)}function he(e){return new Promise((function(t,n){setTimeout((function(){t()}),e)}))}function ve(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(se);case 2:return e.next=4,Object(R.d)(le);case 4:case"end":return e.stop()}}),oe)}var Oe={};var je,we=n(56),ge={},xe=Object(L.c)(),Ee=[xe],ye=[Object(we.devToolsEnhancer)()];function ke(e,t){var n,r=Object(u.createStore)(Object(u.combineReducers)(Object(s.a)({},I)),ge,u.compose.apply(void 0,[u.applyMiddleware.apply(void 0,Object(o.a)(e))].concat(Object(o.a)(t))));return(n=r).rootSage=xe.run(C.a.mark((function e(){var t,n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(ve);case 2:t=Object.values(Oe),n=0,r=t;case 4:if(!(n<r.length)){e.next=11;break}return a=r[n],e.next=8,Object(R.g)(a);case 8:n++,e.next=4;break;case 11:case"end":return e.stop()}}),e)}))),n.closeSaga=function(){n.dispatch(L.a)},n.asyncReducers={},n.asyncSagas={},n.addReducer=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n.asyncReducers.hasOwnProperty(e)&&(n.asyncReducers[e]=t,r)){var a=Object(u.combineReducers)(Object(s.a)(Object(s.a)({},I),n.asyncReducers));n.replaceReducer(a)}},n.addSaga=function(e,t){e="".concat(e,"Saga"),n.asyncSagas.hasOwnProperty(e)||(n.asyncSagas[e]=t,n.rootSage=xe.run(t))},r}var Me=function(e){var t=e.children,n=e.restart;return(void 0===n||n)&&(je=ke(Ee,ye)),a.a.createElement(i.a,{store:je},t)},Ne=n(8),Pe=(n(37),n(36)),Se=n(13),Te=n(14),_e=n(16),Ie=n(15),Le=n(23),Ae=(n(86),n(34)),Ce=n(59),Re=n.n(Ce);var De=function(e){return function(t){var n=function(n){Object(_e.a)(c,n);var r=Object(Ie.a)(c);function c(t){var n;Object(Se.a)(this,c),(n=r.call(this)).state={display:!1},n.dependence=e?Object.entries(e):[];var a=n.dependence.length;if(!a)return Object(Ae.a)(n);if(!je)throw new Error('Could not find "store".');return n.dependence.forEach((function(e,t){var n=Object(G.a)(e,2),r=n[0],c=n[1],o=c.reducer,s=c.saga,i=!1;t===a-1&&(i=!0),je.addReducer(r,o,i),je.addSaga(r,s)})),n.state.display=!0,n}return Object(Te.a)(c,[{key:"render",value:function(){return this.state.display?a.a.createElement(t,this.props):null}}]),c}(r.Component);return n.displayName="withLazyRedux(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Re()(n,t),n}},He="@@ROUTE_HOME",Ue="@@INIT_HOME_DONE";var Ge={init:!1};function We(e){return e.home.init}var ze,Be=C.a.mark(Qe),Ve=C.a.mark(Xe),Je=C.a.mark(Ye),qe=C.a.mark(Ze),Fe=C.a.mark($e),Ke=C.a.mark(et);function Qe(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(R.h)(He);case 3:return e.next=5,Object(R.c)(Xe);case 5:return e.next=7,Object(R.c)(Ze);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),Be)}function Xe(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.f)(We);case 2:if(e.sent){e.next=8;break}return e.next=6,Object(R.c)(Ye);case 6:return e.next=8,Object(R.e)({type:Ue});case 8:case"end":return e.stop()}}),Ve)}function Ye(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)([]);case 2:case"end":return e.stop()}}),Je)}function Ze(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),qe)}function $e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)([]);case 2:case"end":return e.stop()}}),Fe)}function et(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(Qe);case 2:return e.next=4,Object(R.d)($e);case 4:case"end":return e.stop()}}),Ke)}var tt={routeHome:function(){return{type:He}},showModal:S},nt=De({home:{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(s.a)(Object(s.a)({},e),{},{init:!0});default:return e}},saga:et}})(ze=Object(i.b)((function(e){return{}}),tt)(ze=function(e){Object(_e.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(Se.a)(this,n),r=t.call(this),(0,e.routeHome)(),r.state={},r}return Object(Te.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"page page-home"},a.a.createElement(Le.a,null,a.a.createElement("title",null,"\u9152\u5e97")),a.a.createElement("div",{className:"homePage"},"Hello,this is HomePage!"),a.a.createElement("div",{className:"content"},"homeContent"))}}]),n}(r.PureComponent))||ze)||ze,rt=(n(89),"@@ROUTE_MEMBER"),at="@@INIT_MEMBER_DONE";var ct={init:!1};function ot(e){return e.member.init}var st,it=C.a.mark(mt),ut=C.a.mark(bt),lt=C.a.mark(ht),pt=C.a.mark(vt),dt=C.a.mark(Ot),ft=C.a.mark(jt);function mt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(R.h)(rt);case 3:return e.next=5,Object(R.c)(bt);case 5:return e.next=7,Object(R.c)(vt);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),it)}function bt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.f)(ot);case 2:if(e.sent){e.next=8;break}return e.next=6,Object(R.c)(ht);case 6:return e.next=8,Object(R.e)({type:at});case 8:case"end":return e.stop()}}),ut)}function ht(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)([]);case 2:case"end":return e.stop()}}),lt)}function vt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),pt)}function Ot(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)([]);case 2:case"end":return e.stop()}}),dt)}function jt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(mt);case 2:return e.next=4,Object(R.d)(Ot);case 4:case"end":return e.stop()}}),ft)}var wt,gt={routeMember:function(){return{type:rt}},showModal:S},xt={"/":{component:nt,exact:!0},"/member":{component:De({member:{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(s.a)(Object(s.a)({},e),{},{init:!0});default:return e}},saga:jt}})(st=Object(i.b)((function(e){return{}}),gt)(st=function(e){Object(_e.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(Se.a)(this,n),r=t.call(this),(0,e.routeMember)(),r.state={},r}return Object(Te.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"homePage"},a.a.createElement(Le.a,null,a.a.createElement("title",null,"\u4f1a\u5458\u4e2d\u5fc3")),a.a.createElement("div",{className:"content"},"this is memberPage!"))}}]),n}(r.PureComponent))||st)||st,exact:!0}},Et={};window.routeTree=Et;var yt=function e(t){var n=t.routes,r=t.base,c=void 0===r?"":r;return Reflect.ownKeys(n).map((function(t){var r=n[t],o=r.component,s=r.exact,i=r.routes;Et[t]="component";var u=c+t;return!o&&i?a.a.createElement(Ne.a,{key:u,exact:s,path:u,children:a.a.createElement(e,{base:u,routes:i})}):a.a.createElement(Ne.a,{key:u,exact:s,path:u,component:o})}))},kt=function(e){var t=e.children,n=e.mode,r=e.location,c=a.a.createElement(yt,{routes:xt});return t&&a.a.isValidElement(t)&&(c=a.a.cloneElement(t,{children:a.a.createElement(yt,{routes:xt})})),function(e){var t=e.location.pathname,n=e.list=[t];e.listen((function(e,t){var r=e.pathname,a=n.length;if(r!==n[n.length-1])if("PUSH"===t)n.push(r);else if("REPLACE"===t)n[a-1]=r;else if("POP"===t){n[a-2]===r?n.pop():n.push(r)}})),e.reLaunch=function(r,a){var c=1-n.length;c<0&&e.go(c),n=e.list=[t],r!==t&&setTimeout((function(){e.replace(r,a)}),0)}}(wt="static"===n?Object(Pe.c)({initialEntries:[r]}):"browser"===n?Object(Pe.a)():Object(Pe.b)()),a.a.createElement(Ne.b,{history:wt},c)};n(92),n(93);var Mt,Nt,Pt,St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return function(t){var n=function(n){Object(_e.a)(c,n);var r=Object(Ie.a)(c);function c(e){var t,n=e.delay,a=void 0!==n&&n;return Object(Se.a)(this,c),(t=r.call(this)).state={show:!0,delay:a},t.timer=null,t}return Object(Te.a)(c,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.delay,a=n.time,c=void 0===a?e:a;r&&(this.timer=setTimeout((function(){t.setState({delay:!1})}),c))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state,n=e.show,r=e.delay;return!n||r?null:a.a.createElement(t,this.props)}}]),c}(r.PureComponent);return n.displayName="widthDelay(".concat(t.displayName||t.name||"Component",")"),n}}()(Mt=function(e){Object(_e.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(Se.a)(this,n),t.apply(this,arguments)}return Object(Te.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"loading"},a.a.createElement("div",{className:"loading-icon"}))}}]),n}(r.PureComponent))||Mt,Tt={hideModal:function(){return{type:g}}},_t=(Nt=Object(i.b)((function(e){return{showToast:e.app.showToast,showLoading:e.app.showLoading,showModalEl:e.app.showModalEl,toastMsg:e.app.toastMsg,modalMsg:e.app.modalMsg,showModalToast:e.app.showModalToast}}),Tt),Object(Ne.e)(Pt=Nt(Pt=function(e){Object(_e.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(Se.a)(this,n),(r=t.call(this)).ShowModalToast=function(){return r.props.showModalToast?a.a.createElement("div",null,a.a.createElement("div",{className:"commit-status"},a.a.createElement("div",{className:"icon"}),a.a.createElement("span",null,"\u590d\u5236\u6210\u529f"))):null},r}return Object(Te.a)(n,[{key:"renderNavbar",value:function(){var e=this.props,t=e.location.pathname,n=e.history,r=-1!==["/","/member"].indexOf(t);return a.a.createElement("div",{className:"navbar"+(r?" show":"")},a.a.createElement("div",{className:"item tohome"+("/"===t?" active":""),onClick:function(){"/"!==t&&n.replace("/")}},"\u9152\u5e97"),a.a.createElement("div",{className:"line"}),a.a.createElement("div",{className:"item totask"+("member"===t.split("/")[1]?" active":""),onClick:function(){"member"!==t.split("/")[1]&&n.replace("/member")}},"\u4f1a\u5458"),a.a.createElement("div",{className:"line"}),a.a.createElement("div",{className:"item tolog"+("/"===t?" active":""),onClick:function(){"/"!==t&&n.replace("/")}},"\u6211\u7684"))}},{key:"renderToast",value:function(){var e=this.props,t=e.showToast,n=e.toastMsg;return a.a.createElement("div",{className:"toast"+(t?" show":"")},n)}},{key:"renderModal",value:function(){var e=this.props,t=e.showModalEl,n=e.modalMsg,r=e.hideModal;return a.a.createElement("div",{className:"modal"+(t?" show":"")},a.a.createElement("div",{className:"mask",onClick:function(){r()}}),a.a.createElement("div",{className:"modalInner"},n))}},{key:"render",value:function(){var e=this.props.showLoading;return a.a.createElement("div",{className:"app"},a.a.createElement(Le.a,null,a.a.createElement("title",null,"\u6307\u5317\u751f\u6d3b")),this.props.children,this.renderToast(),this.renderModal(),this.renderNavbar(),this.ShowModalToast(),e&&a.a.createElement(St,{delay:!0}))}}]),n}(r.PureComponent))||Pt)||Pt),It=a.a.createElement(Me,null,a.a.createElement(kt,{mode:"hash"},a.a.createElement(_t,null)));Object(c.render)(It,document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.ee745eaf.chunk.js.map